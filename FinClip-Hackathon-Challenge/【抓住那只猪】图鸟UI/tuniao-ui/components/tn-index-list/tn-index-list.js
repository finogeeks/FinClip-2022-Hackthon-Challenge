(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["tuniao-ui/components/tn-index-list/tn-index-list"],{"4335b":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){for(var t=[],e="A".charCodeAt(0),n=0;n<26;n++)t.push(String.fromCharCode(e+n));return t},i={name:"tn-index-list",props:{indexList:{type:Array,default:function(){return n()}},sticky:{type:Boolean,default:!0},stickyTop:{type:Number,default:0},customBarHeight:{type:Number,default:0},scrollTop:{type:Number,default:0},activeColor:{type:String,default:"#01BEFF"},zIndex:{type:Number,default:0}},computed:{selectAlertZIndex:function(){return this.$t.zIndex.toast},stickyOffsetTop:function(){return""!==this.stickyTop?this.stickyTop:0}},data:function(){return{activeAnchorIndex:0,showSidebar:!0,touchMove:!1,touchMoveIndex:0,scrollToAnchorIndex:0,sidebar:{height:0,top:0},height:0,top:0}},watch:{scrollTop:function(){this.updateData()}},created:function(){this.childrens=[]},methods:{updateData:function(){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.showSidebar=!!t.childrens.length,t.getRect().then((function(){t.onScroll()}))}),0)},getRect:function(){return Promise.all([this.getAnchorRect(),this.getListRect(),this.getSidebarRect()])},getAnchorRect:function(){var t=this;return Promise.all(this.childrens.map((function(e,n){e._tGetRect(".tn-index-anchor__wrap").then((function(n){Object.assign(e,{height:n.height,top:n.top-t.customBarHeight})}))})))},getListRect:function(){var t=this;return this._tGetRect(".tn-index-list").then((function(e){Object.assign(t,{height:e.height,top:e.top+t.scrollTop})}))},getSidebarRect:function(){var t=this;return this._tGetRect(".tn-index-list__sidebar").then((function(e){t.sidebar={height:e.height,top:e.top}}))},onScroll:function(){var t=this,e=this.childrens,n=void 0===e?[]:e;if(n.length){var i=this.sticky,o=this.stickyOffsetTop,c=this.zIndex,r=(this.scrollTop,this.activeColor),s=this.getActiveAnchorIndex();if(this.activeAnchorIndex=s,i){var h=!1;-1!==s&&(h=n[s].top<=0),n.forEach((function(e,i){if(i===s){var a="",l={color:"".concat(r)};h&&(a={height:"".concat(n[i].height,"px")},l={position:"fixed",top:"".concat(o,"px"),zIndex:"".concat(c||t.$t.zIndex.indexListSticky),color:"".concat(r)}),e.active=!0,e.wrapperStyle=a,e.anchorStyle=l}else if(i===s-1){var u=n[i],d=u.top,f=i===n.length-1?t.top:n[i+1].top,p=f-d,v=p-u.height,g={position:"relative",transform:"translate3d(0, ".concat(v,"px, 0)"),zIndex:"".concat(c||t.$t.zIndex.indexListSticky),color:"".concat(r)};e.active=!1,e.anchorStyle=g}else e.active=!1,e.wrapperStyle="",e.anchorStyle=""}))}}},onTouchMove:function(t){this.touchMove=!0;var e=this.childrens.length,n=t.touches[0],i=this.sidebar.height/e,o=n.clientY,c=Math.floor((o-this.sidebar.top)/i);c<0?c=0:c>e-1&&(c=e-1),this.touchMoveIndex=c,this.scrollToAnchor(c)},onTouchStop:function(){this.touchMove=!1,this.scrollToAnchorIndex=null},getActiveAnchorIndex:function(){for(var t=this.childrens,e=this.sticky,n=this.childrens.length-1;n>=0;n--){var i=n>0?t[n-1].height:0,o=e?i:0;if(o>=t[n].top)return n}return-1},scrollToAnchor:function(e){var n=this;if(this.scrollToAnchorIndex!==e){this.scrollToAnchorIndex=e;var i=this.childrens.find((function(t){return t.index===n.indexList[e]}));if(i){var o=i.top+this.scrollTop;this.$emit("select",{index:i.index,scrollTop:o}),t.pageScrollTo({duration:0,scrollTop:o})}}}}};e.default=i}).call(this,n("543d")["default"])},5232:function(t,e,n){},"74b5":function(t,e,n){"use strict";var i=n("5232"),o=n.n(i);o.a},a275:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement;t._self._c},c=[]},b7b4:function(t,e,n){"use strict";n.r(e);var i=n("4335b"),o=n.n(i);for(var c in i)"default"!==c&&function(t){n.d(e,t,(function(){return i[t]}))}(c);e["default"]=o.a},bc11:function(t,e,n){"use strict";n.r(e);var i=n("a275"),o=n("b7b4");for(var c in o)"default"!==c&&function(t){n.d(e,t,(function(){return o[t]}))}(c);n("74b5");var r,s=n("f0c5"),h=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"b9893180",null,!1,i["a"],r);e["default"]=h.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'tuniao-ui/components/tn-index-list/tn-index-list-create-component',
    {
        'tuniao-ui/components/tn-index-list/tn-index-list-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("bc11"))
        })
    },
    [['tuniao-ui/components/tn-index-list/tn-index-list-create-component']]
]);
