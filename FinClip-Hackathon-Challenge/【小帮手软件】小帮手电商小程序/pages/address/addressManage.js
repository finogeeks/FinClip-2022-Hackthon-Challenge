(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/addressManage"],{"19d2":function(e,t,r){"use strict";r.r(t);var n=r("4d6b"),a=r("d45f");for(var s in a)"default"!==s&&function(e){r.d(t,e,(function(){return a[e]}))}(s);r("e228");var i,o=r("f0c5"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],i);t["default"]=c.exports},"4d6b":function(e,t,r){"use strict";var n;r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement;e._self._c},s=[]},"4fcf":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r("a34a")),a=r("2f62");function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,n,a,s,i){try{var o=e[s](i),c=o.value}catch(u){return void r(u)}o.done?t(c):Promise.resolve(c).then(n,a)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function o(e){i(s,n,a,o,c,"next",e)}function c(e){i(s,n,a,o,c,"throw",e)}o(void 0)}))}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(){r.e("components/common/copyright").then(function(){return resolve(r("749f"))}.bind(null,r)).catch(r.oe)},l=function(){r.e("components/xuan-linkAddress/xuan-linkAddress").then(function(){return resolve(r("70a5"))}.bind(null,r)).catch(r.oe)},p={components:{linkAddress:l,copyright:f},data:function(){return{height:"500px",addressData:{ID:0,name:"",mobile:"",province:"",city:"",district:"",area:"请选择",address:"",is_default:!1}}},computed:u({},(0,a.mapState)(["theme","themeBaseColor"])),onLoad:function(t){var r=this;return o(n.default.mark((function a(){var s;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(""!==r.theme){n.next=3;break}return n.next=3,r.$util.loadSetting();case 3:s="新增收货地址","edit"===t.type&&(s="编辑收货地址",r.addressData=JSON.parse(t.data)),e.setNavigationBarTitle({title:s});case 6:case"end":return n.stop()}}),a)})))()},methods:{popup_district:function(){this.height="550rpx",this.show_popup()},show_popup:function(){this.$refs.linkAddress.origin_address.province=this.addressData.province,this.$refs.linkAddress.origin_address.city=this.addressData.city,this.$refs.linkAddress.origin_address.district=this.addressData.district,this.$refs.linkAddress.show()},confirmCallback:function(){var e=this.$refs.linkAddress.user_address;console.log("address:",e),this.addressData.province=e.province,this.addressData.city=e.city,this.addressData.district=e.district,this.addressData.area=e.area},switchChange:function(e){this.addressData.is_default=e.detail.value},confirm:function(){var t=this;return o(n.default.mark((function r(){var a,s,i,o;return n.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=t.addressData,console.log("data:",a),a.name){r.next=5;break}return t.$helper.msg("请填写收货人姓名"),r.abrupt("return");case 5:if(/(^1[3|4|5|6|7|8|9][0-9]{9}$)/.test(a.mobile)){r.next=8;break}return t.$helper.msg("请输入正确的手机号码"),r.abrupt("return");case 8:if("请选择"!==a.area){r.next=11;break}return t.$helper.msg("请选择地区"),r.abrupt("return");case 11:if(a.address){r.next=14;break}return t.$helper.msg("请填写详细地址"),r.abrupt("return");case 14:if(!a.ID){r.next=22;break}return console.log("修改:",a.ID),r.next=18,t.$apis.auth.addressUpdate(a);case 18:s=r.sent,o="修改",r.next=27;break;case 22:return console.log("增加"),r.next=25,t.$apis.auth.addressAdd(a);case 25:s=r.sent,o="增加";case 27:s.errMsg||(i=s,console.log("aid:",i),t.$helper.msg("地址".concat(o,"成功")),t.$helper.prePage().refreshList(!0),setTimeout((function(){e.navigateBack()}),800));case 28:case"end":return r.stop()}}),r)})))()}}};t.default=p}).call(this,r("543d")["default"])},"94a0":function(e,t,r){},d45f:function(e,t,r){"use strict";r.r(t);var n=r("4fcf"),a=r.n(n);for(var s in n)"default"!==s&&function(e){r.d(t,e,(function(){return n[e]}))}(s);t["default"]=a.a},d7de:function(e,t,r){"use strict";(function(e){r("2968");n(r("66fd"));var t=n(r("19d2"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("543d")["createPage"])},e228:function(e,t,r){"use strict";var n=r("94a0"),a=r.n(n);a.a}},[["d7de","common/runtime","common/vendor"]]]);