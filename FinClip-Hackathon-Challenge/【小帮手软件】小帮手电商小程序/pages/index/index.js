(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0070":function(e,t,n){},"70ea":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("a34a")),a=n("2f62");function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,o,a,r,i){try{var s=e[r](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(o,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function s(e){i(r,o,a,s,c,"next",e)}function c(e){i(r,o,a,s,c,"throw",e)}s(void 0)}))}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){n.e("components/mehaotian-search-revision/mehaotian-search-revision").then(function(){return resolve(n("d060"))}.bind(null,n)).catch(n.oe)},f=function(){n.e("components/uni-load-more/uni-load-more").then(function(){return resolve(n("0589"))}.bind(null,n)).catch(n.oe)},h=function(){n.e("components/common/copyright").then(function(){return resolve(n("749f"))}.bind(null,n)).catch(n.oe)},p=function(){n.e("components/common/list-goods").then(function(){return resolve(n("4a25"))}.bind(null,n)).catch(n.oe)},g={components:{mSearch:d,uniLoadMore:f,copyright:h,listGoods:p},data:function(){return{defaultKeyword:"",titleNViewBackground:"",swiperCurrent:0,swiperLength:0,carouselList:[],adList:[],hotCateList:[],hotGoodsList:[],haveFlashsaleWork:!1,pageNo:1,loadingType:"more",roomId:8,width:120,height:41,fontSize:17,color:"#FFFFFF",backgroundColor:"#6467F0",customParams:encodeURIComponent(JSON.stringify({path:"pages/index/index",pid:1})),type:0,closePictureInPictureMode:1}},computed:u({},(0,a.mapState)(["page","pageSize","systemName","theme","layout","shareCode","editionSetting"])),onLoad:function(t){var n=this;return s(o.default.mark((function a(){return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(e.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),""!==n.theme){o.next=4;break}return o.next=4,n.$util.loadSetting();case 4:return console.log("theme:",n.theme),n.setTabBarIndex(0,n.layout,n.theme),n.loadDefaultKeyword(),n.loadPageSetting(),n.$util.sendThis(n),o.next=11,n.$util.saveShareInner(t);case 11:return o.next=13,n.loadData();case 13:case"end":return o.stop()}}),a)})))()},onPullDownRefresh:function(){var t=this;return s(o.default.mark((function n(){return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("下拉刷新"),n.next=3,t.loadData();case 3:e.stopPullDownRefresh();case 4:case"end":return n.stop()}}),n)})))()},onReachBottom:function(){var e=this;return s(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("上拉加载"),t.next=3,e.loadHotGoodsList();case 3:case"end":return t.stop()}}),t)})))()},onShareAppMessage:function(e){return"button"===e.from&&(console.log("来自页面内分享按钮"),console.log(e.target)),{title:this.systemName,path:"/pages/index/index?share_code="+this.shareCode}},methods:u(u({},(0,a.mapMutations)(["saveShareQuery","saveInviterCode"])),{},{onSubscribe:function(e){console.log("房间号：",e.detail.room_id),console.log("订阅用户openid",e.detail.openid),console.log("是否订阅",e.detail.is_subscribe)},loadDefaultKeyword:function(){this.defaultKeyword=""},loadPageSetting:function(){console.log("loadPageSetting");var t=this.$mp.page.route;console.log("path:",t),console.log("page:",this.page);var n=this.page.filter((function(e){return e.path==t}));console.log("setting:",n),e.setNavigationBarTitle({title:this.systemName})},loadData:function(){var e=this;return s(o.default.mark((function t(){var n,a,r,i;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("loadData"),t.next=3,e.$apis.slideList();case 3:return n=t.sent,console.log("carouselList:",n),n.length>0&&(e.titleNViewBackground=n[0].background,e.swiperLength=n.length,e.carouselList=n),t.next=8,e.$apis.adList();case 8:return a=t.sent,e.adList=a,console.log("adList:",a),t.next=13,e.$apis.hotCateList();case 13:return r=t.sent,e.hotCateList=r,console.log("hotCateList:",r),e.loadHotGoodsList(!0),t.next=19,e.$apis.flashsaleWork();case 19:i=t.sent,console.log("flashsaleWork:",i),e.haveFlashsaleWork=i.data.length;case 22:case"end":return t.stop()}}),t)})))()},loadHotGoodsList:function(e){var t=this;return s(o.default.mark((function n(){var a;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log("loadHotGoodsList"),e&&(t.hotGoodsList=[],t.loadingType="loading",t.pageNo=1),"noMore"!==t.loadingType){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,t.$apis.hotProductList("main",t.pageSize,t.pageNo);case 6:a=n.sent,console.log("list:",a),t.hotGoodsList=t.hotGoodsList.concat(a.data.items),console.log("hotGoodsList:",t.hotGoodsList),t.pageNo>=a.data.page_count?t.loadingType="noMore":(t.loadingType="more",t.pageNo++);case 11:case"end":return n.stop()}}),n)})))()},swiperChange:function(e){var t=e.detail.current;this.swiperCurrent=t,this.titleNViewBackground=this.carouselList[t].background},navToDetailPage:function(t){0!==t&&e.navigateTo({url:"/pages/product/product?id=".concat(t)})},navToHotCatePage:function(t,n){e.navigateTo({url:"/pages/search/search?tid=".concat(t,"&title=").concat(n)})},navTo:function(t){console.log("navTo:",t),e.navigateTo({url:t})}})};t.default=g}).call(this,n("543d")["default"])},"790b":function(e,t,n){"use strict";var o=n("ed94"),a=n.n(o);a.a},"7d1d":function(e,t,n){"use strict";var o=n("0070"),a=n.n(o);a.a},ad7b:function(e,t,n){"use strict";var o=n("b1e3"),a=n.n(o);a.a},b040:function(e,t,n){"use strict";(function(e){n("2968");o(n("66fd"));var t=o(n("e294"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},b1e3:function(e,t,n){},d5ef:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));var o={uniLoadMore:function(){return n.e("components/uni-load-more/uni-load-more").then(n.bind(null,"0589"))}},a=function(){var e=this,t=e.$createElement;e._self._c},r=[]},e294:function(e,t,n){"use strict";n.r(t);var o=n("d5ef"),a=n("e834");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("7d1d"),n("790b"),n("ad7b");var i,s=n("f0c5"),c=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);t["default"]=c.exports},e834:function(e,t,n){"use strict";n.r(t);var o=n("70ea"),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},ed94:function(e,t,n){}},[["b040","common/runtime","common/vendor"]]]);