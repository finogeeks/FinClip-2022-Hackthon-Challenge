(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/category/category"],{"020e":function(t,e,n){"use strict";var r=n("35b8"),o=n.n(r);o.a},2498:function(t,e,n){"use strict";n.r(e);var r=n("fa7a"),o=n("fbc8");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("020e");var i,c=n("f0c5"),s=Object(c["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],i);e["default"]=s.exports},"35b8":function(t,e,n){},"8bb1":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("a34a")),o=n("2f62");function a(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(l){return void n(l)}c.done?e(s):Promise.resolve(s).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function c(t){i(a,r,o,c,s,"next",t)}function s(t){i(a,r,o,c,s,"throw",t)}c(void 0)}))}}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(){n.e("components/common/copyright").then(function(){return resolve(n("749f"))}.bind(null,n)).catch(n.oe)},h={components:{copyright:f},data:function(){return{sizeCalcState:!1,tabScrollTop:0,curScrollTop:0,currentId:1,flist:[],slist:[],tlist:[]}},computed:l({},(0,o.mapState)(["page","theme","layout","shareCode"])),onLoad:function(){var e=this;return c(r.default.mark((function n(){return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),""!==e.theme){n.next=4;break}return n.next=4,e.$util.loadSetting();case 4:return console.log("theme:",e.theme),e.setTabBarIndex(1,e.layout,e.theme),e.loadPageSetting(),n.next=9,e.loadData();case 9:case"end":return n.stop()}}),n)})))()},onPullDownRefresh:function(){var e=this;return c(r.default.mark((function n(){return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("下拉刷新"),n.next=3,e.loadData();case 3:t.stopPullDownRefresh();case 4:case"end":return n.stop()}}),n)})))()},onShareAppMessage:function(t){return"button"===t.from&&(console.log("来自页面内分享按钮"),console.log(t.target)),{title:"所有分类",path:"/pages/category/category?share_code="+this.shareCode}},methods:{loadPageSetting:function(){console.log("loadPageSetting");var e=this.$mp.page.route;console.log("path:",e),console.log("page:",this.page);var n=this.page.filter((function(t){return t.path==e}));console.log("setting:",n),t.setNavigationBarTitle({title:n[0].title})},loadData:function(){var t=this;return c(r.default.mark((function e(){var n;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$apis.cateList();case 2:if(n=e.sent,console.log("list:",n),!n.errMsg){e.next=6;break}return e.abrupt("return");case 6:t.flist=[],t.slist=[],t.tlist=[],n.forEach((function(e){e.is_open&&(1===e.level?t.flist.push(e):2===e.level?t.slist.push(e):t.tlist.push(e))})),console.log("flist:",t.flist),console.log("slist:",t.slist),console.log("tlist:",t.tlist);case 13:case"end":return e.stop()}}),e)})))()},tabtap:function(t){this.sizeCalcState||this.calcSize(),this.currentId=t.ID;var e=this.slist.findIndex((function(e){return e.pid===t.ID}));this.tabScrollTop=this.curScrollTop,this.$nextTick((function(){this.tabScrollTop=this.slist[e].top}))},asideScroll:function(t){this.sizeCalcState||this.calcSize();var e=t.detail.scrollTop;this.curScrollTop=e;var n=this.slist.filter((function(t){return t.top<=e})).reverse();n.length>0&&(this.currentId=n[0].pid)},calcSize:function(){var e=0;this.slist.forEach((function(n){var r=t.createSelectorQuery().select("#main-"+n.ID);r.fields({size:!0},(function(t){n.top=e,e+=t.height,n.bottom=e})).exec()})),this.sizeCalcState=!0},navToSearch:function(e,n){t.navigateTo({url:"/pages/search/search?tid=".concat(e,"&title=").concat(n)})}}};e.default=h}).call(this,n("543d")["default"])},f158:function(t,e,n){"use strict";(function(t){n("2968");r(n("66fd"));var e=r(n("2498"));function r(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},fa7a:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r}));var o=function(){var t=this,e=t.$createElement;t._self._c},a=[]},fbc8:function(t,e,n){"use strict";n.r(e);var r=n("8bb1"),o=n.n(r);for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);e["default"]=o.a}},[["f158","common/runtime","common/vendor"]]]);